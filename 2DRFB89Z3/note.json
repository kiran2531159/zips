{
  "paragraphs": [
    {
      "text": "%md\n## Using Zeppelin for Data Science Tasks: Data Ingestion, Data Formatting, Exploratory Analysis and Model Building.\n\n\nData Science involves a typical sequence of tasks: aquiring data, cleaning it, analyzing it for relationships, and then building a model. Zeppelin allows you to do all these from one unified interface.",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.226",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eUsing Zeppelin for Data Science Tasks: Data Ingestion, Data Formatting, Exploratory Analysis and Model Building.\u003c/h2\u003e\n\u003cp\u003eData Science involves a typical sequence of tasks: aquiring data, cleaning it, analyzing it for relationships, and then building a model. Zeppelin allows you to do all these from one unified interface.\u003c/p\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_1119753157",
      "id": "20150601-165313_1826054142",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## First, let\u0027s load the data into HDFS and make sure we can access it.",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.226",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eFirst, let\u0027s load the data into HDFS and make sure we can access it.\u003c/h2\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_1107185752",
      "id": "20150601-165442_638366896",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh\nwhoami\n\ncurl -sSL -O \"https://www.dropbox.com/s/ggj1robwxpl9vrt/iotdemo-notebook-data.zip\"\nunzip iotdemo-notebook-data.zip\n\nhadoop fs -mkdir -p /user/zeppelin/iotdemo\nhadoop fs -copyFromLocal -f trainingData /user/zeppelin/iotdemo/\nhadoop fs -copyFromLocal -f enrichedEvents /user/zeppelin/iotdemo/\n\nhadoop fs -ls /user/zeppelin/iotdemo/",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.226",
      "config": {
        "colWidth": 12.0,
        "editorMode": "ace/mode/sh",
        "tableHide": false,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "zeppelin\nArchive:  iotdemo-notebook-data.zip\n  inflating: trainingData            \n  inflating: enrichedEvents          \nFound 2 items\n-rw-r--r--   1 zeppelin zeppelin      63570 2015-09-16 00:16 /user/zeppelin/iotdemo/enrichedEvents\n-rw-r--r--   1 zeppelin zeppelin      33084 2015-09-16 00:16 /user/zeppelin/iotdemo/trainingData\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_-321448761",
      "id": "20150812-230011_789008868",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sh\nhadoop fs -cat /user/zeppelin/iotdemo/enrichedEvents | tail -n 10",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.226",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sh",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "Overspeed,\"Y\",\"hours\",45,2773,-90.07,35.68,0,1,1\nLane Departure,\"Y\",\"hours\",45,2773,-90.04,35.19,1,1,0\nNormal,\"Y\",\"hours\",45,2773,-90.68,35.12,1,0,0\nNormal,\"Y\",\"hours\",45,2773,-91.14,34.96,0,0,0\nNormal,\"Y\",\"hours\",45,2773,-91.93,34.81,0,0,0\nNormal,\"Y\",\"hours\",45,2773,-92.31,34.78,0,1,0\nNormal,\"Y\",\"hours\",45,2773,-92.09,34.8,0,0,0\nNormal,\"Y\",\"hours\",45,2773,-91.93,34.81,0,0,0\nNormal,\"Y\",\"hours\",45,2773,-90.68,35.12,0,0,0\nNormal,\"Y\",\"hours\",45,2773,-91.74,34.89,0,0,0\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_-2125231128",
      "id": "20150601-170021_1937004013",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Let\u0027s do some Exploratory Data Analysis so that we have a better grasp on the nature of this data set.",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.226",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eLet\u0027s do some Exploratory Data Analysis so that we have a better grasp on the nature of this data set.\u003c/h2\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_-1291955285",
      "id": "20150601-170447_179499526",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "val sqlContext \u003d new org.apache.spark.sql.SQLContext(sc)\n\nval eventsFile \u003d sc.textFile(\"hdfs:///user/zeppelin/iotdemo/enrichedEvents\")\n\ncase class Event(eventType: String, \n                isCertified: String, \n                paymentScheme: String, \n                hoursDriven: Int, \n                milesDriven: Int, \n                lat: Float, \n                long: Float, \n                isFoggy: Int, \n                isRainy: Int, \n                isWindy: Int)\n\nval eventsRDD \u003d eventsFile.map(s \u003d\u003e s.split(\",\")).map(\n    s \u003d\u003e Event(s(0),        //eventType\n            s(1).replaceAll(\"\\\"\", \"\"),  //isCertified\n            s(2).replaceAll(\"\\\"\", \"\"),  //paymentScheme\n            s(3).toInt,     //hoursDriven\n            s(4).toInt,     //milesDriven\n            s(5).toFloat,   //latitude\n            s(6).toFloat,   //longitude\n            s(7).toInt,     //isFoggy\n            s(8).toInt,     //isRainy\n            s(9).toInt      //isWindy\n        )\n    )\n\n//             scaleEvents(s(3).toInt),     //hoursDriven\n\n\neventsRDD.count\n\neventsRDD.toDF().registerTempTable(\"enrichedEvents\")\n",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.226",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/scala",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "sqlContext: org.apache.spark.sql.SQLContext \u003d org.apache.spark.sql.SQLContext@1008331\neventsFile: org.apache.spark.rdd.RDD[String] \u003d hdfs:///user/zeppelin/iotdemo/enrichedEvents MapPartitionsRDD[70] at textFile at \u003cconsole\u003e:24\ndefined class Event\neventsRDD: org.apache.spark.rdd.RDD[Event] \u003d MapPartitionsRDD[72] at map at \u003cconsole\u003e:28\nres29: Long \u003d 1359\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_948251251",
      "id": "20150601-171008_2061583323",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\nselect * from enrichedEvents order by hoursDriven desc limit 10\n",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:24.550",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": true,
              "keys": [
                {
                  "name": "eventType",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "isCertified",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "scatter": {
                "xAxis": {
                  "name": "eventType",
                  "index": 0.0,
                  "aggr": "sum"
                },
                "yAxis": {
                  "name": "isCertified",
                  "index": 1.0,
                  "aggr": "sum"
                }
              },
              "setting": {
                "table": {
                  "tableGridState": {},
                  "tableColumnTypeState": {
                    "names": {
                      "eventType": "string",
                      "isCertified": "string",
                      "paymentScheme": "string",
                      "hoursDriven": "string",
                      "milesDriven": "string",
                      "lat": "string",
                      "long": "string",
                      "isFoggy": "string",
                      "isRainy": "string",
                      "isWindy": "string"
                    },
                    "updated": false
                  },
                  "tableOptionSpecHash": "[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]",
                  "tableOptionValue": {
                    "useFilter": false,
                    "showPagination": false,
                    "showAggregationFooter": false
                  },
                  "updated": false,
                  "initialized": false
                }
              },
              "commonSetting": {}
            }
          }
        ],
        "enabled": true,
        "fontSize": 9.0,
        "editorSetting": {}
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "eventType\tisCertified\tpaymentScheme\thoursDriven\tmilesDriven\tlat\tlong\tisFoggy\tisRainy\tisWindy\nNormal\tN\tmiles\t90\t4300\t-90.29\t40.96\t0\t0\t1\nLane Departure\tN\tmiles\t90\t4300\t-88.42\t41.11\t1\t1\t1\nNormal\tN\tmiles\t90\t4300\t-89.91\t40.86\t0\t0\t0\nOverspeed\tN\tmiles\t90\t4300\t-93.04\t41.71\t1\t0\t0\nUnsafe tail distance\tN\tmiles\t90\t4300\t-87.67\t41.87\t1\t1\t1\nNormal\tN\tmiles\t90\t4300\t-89.52\t40.7\t0\t0\t0\nNormal\tN\tmiles\t90\t4300\t-91.05\t41.72\t0\t0\t1\nNormal\tN\tmiles\t90\t4300\t-91.47\t41.74\t0\t0\t0\nLane Departure\tN\tmiles\t90\t4300\t-91.59\t41.7\t1\t0\t0\nUnsafe following distance\tN\tmiles\t90\t4300\t-88.77\t40.76\t0\t1\t1\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_18609988",
      "id": "20150601-171149_802050103",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## Do certified drivers have less violations?",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.226",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": true,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eDo certified drivers have less violations?\u003c/h2\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_276034314",
      "id": "20150601-171831_1908074493",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\nselect eventType, count(*) occurences from enrichedEvents group by eventType",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:24.865",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "keys": [
                {
                  "name": "eventType",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "occurences",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "scatter": {
                "xAxis": {
                  "name": "eventType",
                  "index": 0.0,
                  "aggr": "sum"
                }
              },
              "setting": {
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {}
            }
          }
        ],
        "enabled": true,
        "fontSize": 9.0,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "eventType\toccurences\nUnsafe tail distance\t38\nOverspeed\t50\nLane Departure\t37\nUnsafe following distance\t34\nNormal\t1200\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_1914357459",
      "id": "20150601-222257_227670657",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\nselect isCertified, count(*) numViolations from enrichedEvents where eventType in (\"Unsafe tail distance\", \"Overspeed\", \"Lane Departure\", \"Unsafe following distance\") group by isCertified",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:25.203",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "keys": [
                {
                  "name": "isCertified",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "numViolations",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "scatter": {
                "xAxis": {
                  "name": "isCertified",
                  "index": 0.0,
                  "aggr": "sum"
                }
              },
              "setting": {
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {}
            }
          }
        ],
        "enabled": true,
        "fontSize": 9.0,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "isCertified\tnumViolations\nN\t62\nY\t97\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_-570259477",
      "id": "20150601-233700_861079238",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\nselect eventType, isCertified, hoursDriven from enrichedEvents group by eventType, isCertified, hoursDriven",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:25.449",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": true,
              "keys": [
                {
                  "name": "hoursDriven",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "eventType",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "scatter": {
                "xAxis": {
                  "name": "eventType",
                  "index": 0.0,
                  "aggr": "sum"
                },
                "yAxis": {
                  "name": "hoursDriven",
                  "index": 2.0,
                  "aggr": "sum"
                },
                "group": {
                  "name": "hoursDriven",
                  "index": 2.0,
                  "aggr": "sum"
                }
              },
              "setting": {
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {}
            }
          }
        ],
        "enabled": true,
        "fontSize": 9.0,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "eventType\tisCertified\thoursDriven\nUnsafe tail distance\tN\t90\nOverspeed\tN\t0\nNormal\tY\t45\nNormal\tY\t46\nNormal\tY\t47\nNormal\tY\t48\nNormal\tY\t49\nNormal\tY\t50\nNormal\tY\t51\nNormal\tY\t52\nNormal\tY\t53\nNormal\tY\t54\nNormal\tY\t55\nNormal\tY\t56\nNormal\tY\t57\nNormal\tY\t58\nNormal\tY\t59\nNormal\tY\t60\nLane Departure\tY\t45\nLane Departure\tY\t46\nNormal\tN\t70\nUnsafe following distance\tN\t0\nLane Departure\tY\t49\nLane Departure\tY\t51\nLane Departure\tY\t54\nLane Departure\tY\t56\nLane Departure\tY\t57\nLane Departure\tY\t58\nLane Departure\tY\t60\nLane Departure\tN\t70\nNormal\tN\t90\nOverspeed\tY\t45\nOverspeed\tY\t47\nLane Departure\tN\t90\nOverspeed\tY\t49\nOverspeed\tY\t50\nOverspeed\tY\t51\nOverspeed\tY\t52\nOverspeed\tY\t53\nOverspeed\tY\t55\nOverspeed\tY\t56\nOverspeed\tY\t58\nOverspeed\tY\t59\nOverspeed\tY\t60\nOverspeed\tN\t70\nUnsafe following distance\tY\t45\nUnsafe following distance\tY\t49\nUnsafe following distance\tY\t50\nUnsafe following distance\tY\t51\nUnsafe following distance\tY\t52\nUnsafe following distance\tY\t53\nUnsafe following distance\tY\t55\nUnsafe following distance\tY\t57\nUnsafe following distance\tY\t58\nUnsafe following distance\tY\t59\nUnsafe tail distance\tN\t0\nUnsafe following distance\tN\t70\nOverspeed\tN\t90\nUnsafe following distance\tN\t90\nUnsafe tail distance\tY\t47\nUnsafe tail distance\tY\t49\nUnsafe tail distance\tY\t50\nUnsafe tail distance\tY\t51\nUnsafe tail distance\tY\t52\nNormal\tN\t0\nUnsafe tail distance\tY\t53\nUnsafe tail distance\tY\t55\nUnsafe tail distance\tY\t56\nUnsafe tail distance\tY\t57\nUnsafe tail distance\tY\t59\nUnsafe tail distance\tY\t60\nLane Departure\tN\t0\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_1379810486",
      "id": "20150602-005637_838211375",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md \n## Does fatigue cause violations?",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.226",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eDoes fatigue cause violations?\u003c/h2\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_778649014",
      "id": "20150602-013120_170563003",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\nselect hoursDriven, eventType, count(*) numOccurences from enrichedEvents where eventType not in (\"Normal\") group by hoursDriven, eventType order by hoursDriven\n\n",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:26.195",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "multiBarChart",
              "height": 232.0,
              "optionOpen": false,
              "keys": [
                {
                  "name": "hoursDriven",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "numOccurences",
                  "index": 2.0,
                  "aggr": "count"
                }
              ],
              "groups": [],
              "scatter": {
                "xAxis": {
                  "name": "hoursDriven",
                  "index": 0.0,
                  "aggr": "sum"
                },
                "yAxis": {
                  "name": "eventType",
                  "index": 1.0,
                  "aggr": "sum"
                }
              },
              "setting": {
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {}
            }
          }
        ],
        "enabled": true,
        "fontSize": 9.0,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        }
      },
      "settings": {
        "params": {
          "eventType": "Normal"
        },
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "hoursDriven\teventType\tnumOccurences\n0\tUnsafe tail distance\t12\n0\tOverspeed\t11\n0\tLane Departure\t9\n0\tUnsafe following distance\t8\n45\tOverspeed\t5\n45\tLane Departure\t3\n45\tUnsafe following distance\t1\n46\tLane Departure\t1\n47\tUnsafe tail distance\t2\n47\tOverspeed\t1\n49\tOverspeed\t1\n49\tUnsafe tail distance\t1\n49\tLane Departure\t2\n49\tUnsafe following distance\t4\n50\tOverspeed\t1\n50\tUnsafe following distance\t1\n50\tUnsafe tail distance\t2\n51\tOverspeed\t4\n51\tUnsafe following distance\t5\n51\tLane Departure\t3\n51\tUnsafe tail distance\t2\n52\tUnsafe following distance\t1\n52\tUnsafe tail distance\t2\n52\tOverspeed\t2\n53\tUnsafe following distance\t1\n53\tUnsafe tail distance\t2\n53\tOverspeed\t4\n54\tLane Departure\t2\n55\tUnsafe tail distance\t3\n55\tUnsafe following distance\t5\n55\tOverspeed\t7\n56\tUnsafe tail distance\t2\n56\tOverspeed\t4\n56\tLane Departure\t1\n57\tUnsafe tail distance\t3\n57\tLane Departure\t1\n57\tUnsafe following distance\t2\n58\tLane Departure\t1\n58\tOverspeed\t1\n58\tUnsafe following distance\t1\n59\tUnsafe tail distance\t1\n59\tOverspeed\t1\n59\tUnsafe following distance\t1\n60\tLane Departure\t3\n60\tUnsafe tail distance\t4\n60\tOverspeed\t3\n70\tOverspeed\t1\n70\tLane Departure\t7\n70\tUnsafe following distance\t2\n90\tUnsafe tail distance\t2\n90\tOverspeed\t4\n90\tUnsafe following distance\t2\n90\tLane Departure\t4\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_-515655811",
      "id": "20150602-165735_472251841",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\nSELECT IF(((`enrichedEvents`.`eventType` \u003d \u0027Lane Departure\u0027) OR (`enrichedEvents`.`eventType` \u003d \u0027Overspeed\u0027) OR (`enrichedEvents`.`eventType` \u003d \u0027Unsafe following distance\u0027) OR (`enrichedEvents`.`eventType` \u003d \u0027Unsafe tail distance\u0027)),\u0027Lane Departure\u0027,`enrichedEvents`.`eventType`) AS `grouped_events`, `enrichedEvents`.`hoursDriven` AS `none_hoursdriven_ok`, SUM(1) AS `sum_number_of_records_ok` FROM `enrichedEvents` `enrichedEvents` GROUP BY IF(((`enrichedEvents`.`eventType` \u003d \u0027Lane Departure\u0027) OR (`enrichedEvents`.`eventType` \u003d \u0027Overspeed\u0027) OR (`enrichedEvents`.`eventType` \u003d \u0027Unsafe following distance\u0027) OR (`enrichedEvents`.`eventType` \u003d \u0027Unsafe tail distance\u0027)),\u0027Lane Departure\u0027,`enrichedEvents`.`eventType`), `enrichedEvents`.`hoursDriven`\n",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:30.416",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "multiBarChart",
              "height": 302.0,
              "optionOpen": false,
              "keys": [
                {
                  "name": "none_hoursdriven_ok",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "sum_number_of_records_ok",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ],
              "groups": [
                {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "scatter": {
                "xAxis": {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                },
                "yAxis": {
                  "name": "none_hoursdriven_ok",
                  "index": 1.0,
                  "aggr": "sum"
                }
              },
              "setting": {
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {}
            }
          }
        ],
        "enabled": true,
        "fontSize": 9.0,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "grouped_events\tnone_hoursdriven_ok\tsum_number_of_records_ok\nLane Departure\t0\t40\nNormal\t0\t35\nLane Departure\t45\t9\nLane Departure\t46\t1\nLane Departure\t47\t3\nLane Departure\t49\t8\nLane Departure\t50\t4\nLane Departure\t51\t14\nLane Departure\t52\t5\nLane Departure\t53\t7\nLane Departure\t54\t2\nLane Departure\t55\t15\nLane Departure\t56\t7\nLane Departure\t57\t6\nLane Departure\t58\t3\nLane Departure\t59\t3\nLane Departure\t60\t10\nLane Departure\t70\t10\nNormal\t45\t97\nNormal\t46\t13\nNormal\t47\t12\nLane Departure\t90\t12\nNormal\t48\t5\nNormal\t49\t61\nNormal\t50\t53\nNormal\t51\t166\nNormal\t52\t48\nNormal\t53\t88\nNormal\t54\t54\nNormal\t55\t94\nNormal\t56\t73\nNormal\t57\t108\nNormal\t58\t31\nNormal\t59\t48\nNormal\t60\t137\nNormal\t70\t57\nNormal\t90\t20\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_622129335",
      "id": "20150602-165744_1812152248",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\nSELECT IF(((eventType \u003d \u0027Lane Departure\u0027) OR (eventType \u003d \u0027Overspeed\u0027) OR (eventType \u003d \u0027Unsafe following distance\u0027) OR (eventType \u003d \u0027Unsafe tail distance\u0027)),\u0027Lane Departure\u0027, eventType) AS `grouped_events`, isCertified AS num_certified, SUM(1) AS sum_number_of_records FROM enrichedEvents enrichedEvents GROUP BY IF(((eventType \u003d \u0027Lane Departure\u0027) OR (eventType \u003d \u0027Overspeed\u0027) OR (eventType \u003d \u0027Unsafe following distance\u0027) OR (eventType \u003d \u0027Unsafe tail distance\u0027)),\u0027Lane Departure\u0027, eventType), isCertified",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:30.828",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": true,
              "keys": [
                {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "sum_number_of_records",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ],
              "groups": [
                {
                  "name": "num_certified",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "scatter": {
                "xAxis": {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                },
                "yAxis": {
                  "name": "num_certified",
                  "index": 1.0,
                  "aggr": "sum"
                }
              },
              "setting": {
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {}
            }
          }
        ],
        "enabled": true,
        "fontSize": 9.0,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "grouped_events\tnum_certified\tsum_number_of_records\nLane Departure\tN\t62\nLane Departure\tY\t97\nNormal\tN\t112\nNormal\tY\t1088\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267226_-280412422",
      "id": "20150602-183904_189812181",
      "dateCreated": "2018-09-16 13:01:07.226",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n## What\u0027s the impact of fog on driving?",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.236",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": true,
              "keys": [
                {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "none_hoursdriven_ok",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "groups": [],
              "scatter": {
                "xAxis": {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                },
                "yAxis": {
                  "name": "none_hoursdriven_ok",
                  "index": 1.0,
                  "aggr": "sum"
                }
              }
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eWhat\u0027s the impact of fog on driving?\u003c/h2\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_-1373714041",
      "id": "20150602-185736_1176020804",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\n\n\nSELECT IF(((eventType \u003d \u0027Lane Departure\u0027) OR (eventType \u003d \u0027Overspeed\u0027) OR (eventType \u003d \u0027Unsafe following distance\u0027) OR (eventType \u003d \u0027Unsafe tail distance\u0027)),\u0027Lane Departure\u0027, eventType) AS `grouped_events`, isFoggy AS `num_foggy`, SUM(1) AS sum_number_of_records FROM enrichedEvents enrichedEvents GROUP BY IF(((eventType \u003d \u0027Lane Departure\u0027) OR (eventType \u003d \u0027Overspeed\u0027) OR (eventType \u003d \u0027Unsafe following distance\u0027) OR (eventType \u003d \u0027Unsafe tail distance\u0027)),\u0027Lane Departure\u0027, eventType), isFoggy",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:31.018",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "keys": [
                {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "sum_number_of_records",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ],
              "groups": [
                {
                  "name": "num_foggy",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "scatter": {
                "xAxis": {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                },
                "yAxis": {
                  "name": "num_foggy",
                  "index": 1.0,
                  "aggr": "sum"
                }
              },
              "setting": {
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {}
            }
          }
        ],
        "enabled": true,
        "fontSize": 9.0,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "grouped_events\tnum_foggy\tsum_number_of_records\nNormal\t0\t1036\nNormal\t1\t164\nLane Departure\t0\t48\nLane Departure\t1\t111\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_-1253440062",
      "id": "20150603-005352_2051370027",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md \n##What\u0027s the impact of rain on driving?",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.236",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eWhat\u0027s the impact of rain on driving?\u003c/h2\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_-133431475",
      "id": "20150603-082821_53714184",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\nSELECT IF(((eventType \u003d \u0027Lane Departure\u0027) OR (eventType \u003d \u0027Overspeed\u0027) OR (eventType \u003d \u0027Unsafe following distance\u0027) OR (eventType \u003d \u0027Unsafe tail distance\u0027)),\u0027Lane Departure\u0027, eventType) AS `grouped_events`, isRainy AS `none_rainy_ok`, SUM(1) AS `sum_number_of_records_ok` FROM enrichedEvents enrichedEvents GROUP BY IF(((eventType \u003d \u0027Lane Departure\u0027) OR (eventType \u003d \u0027Overspeed\u0027) OR (eventType \u003d \u0027Unsafe following distance\u0027) OR (eventType \u003d \u0027Unsafe tail distance\u0027)),\u0027Lane Departure\u0027, eventType), isRainy",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:31.268",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "keys": [
                {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "sum_number_of_records_ok",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ],
              "groups": [
                {
                  "name": "none_rainy_ok",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "scatter": {
                "xAxis": {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                },
                "yAxis": {
                  "name": "none_rainy_ok",
                  "index": 1.0,
                  "aggr": "sum"
                }
              },
              "setting": {
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {}
            }
          }
        ],
        "enabled": true,
        "fontSize": 9.0,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "grouped_events\tnone_rainy_ok\tsum_number_of_records_ok\nNormal\t0\t1038\nNormal\t1\t162\nLane Departure\t0\t63\nLane Departure\t1\t96\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_1893359158",
      "id": "20150603-161651_886203277",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n\n## What\u0027s the impact of wind on driving?",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.236",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eWhat\u0027s the impact of wind on driving?\u003c/h2\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_-575894445",
      "id": "20150603-085134_652083579",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\nSELECT IF(((eventType \u003d \u0027Lane Departure\u0027) OR (eventType \u003d \u0027Overspeed\u0027) OR (eventType \u003d \u0027Unsafe following distance\u0027) OR (eventType \u003d \u0027Unsafe tail distance\u0027)),\u0027Lane Departure\u0027, eventType) AS `grouped_events`, isWindy AS `none_windy_ok`, SUM(1) AS `sum_number_of_records_ok` FROM enrichedEvents enrichedEvents GROUP BY IF(((eventType \u003d \u0027Lane Departure\u0027) OR (eventType \u003d \u0027Overspeed\u0027) OR (eventType \u003d \u0027Unsafe following distance\u0027) OR (eventType \u003d \u0027Unsafe tail distance\u0027)),\u0027Lane Departure\u0027, eventType), isWindy",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:28.704",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "multiBarChart",
              "height": 300.0,
              "optionOpen": false,
              "keys": [
                {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "sum_number_of_records_ok",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ],
              "groups": [
                {
                  "name": "none_windy_ok",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "scatter": {
                "xAxis": {
                  "name": "grouped_events",
                  "index": 0.0,
                  "aggr": "sum"
                },
                "yAxis": {
                  "name": "none_windy_ok",
                  "index": 1.0,
                  "aggr": "sum"
                }
              },
              "setting": {
                "multiBarChart": {
                  "rotate": {
                    "degree": "-45"
                  },
                  "xLabelStatus": "default"
                }
              },
              "commonSetting": {}
            }
          }
        ],
        "enabled": true,
        "fontSize": 9.0,
        "editorSetting": {
          "language": "sql",
          "editOnDblClick": false,
          "completionKey": "TAB",
          "completionSupport": true
        }
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "grouped_events\tnone_windy_ok\tsum_number_of_records_ok\nNormal\t0\t891\nNormal\t1\t309\nLane Departure\t0\t108\nLane Departure\t1\t51\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_1361904325",
      "id": "20150603-085501_2095284086",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n\n## Does location have any impact on incidents?",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.236",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eDoes location have any impact on incidents?\u003c/h2\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_-822373868",
      "id": "20150612-103100_302525333",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%sql\n\nselect lat, long, eventType, isFoggy from enrichedEvents where eventType not in (\u0027Normal\u0027) and isFoggy \u003d 1 group by lat, long, eventType, isFoggy ",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.236",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/sql",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "scatterChart",
              "height": 288.0,
              "optionOpen": true,
              "keys": [
                {
                  "name": "eventType",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ],
              "values": [
                {
                  "name": "long",
                  "index": 1.0,
                  "aggr": "sum"
                }
              ],
              "groups": [
                {
                  "name": "eventType",
                  "index": 2.0,
                  "aggr": "sum"
                }
              ],
              "scatter": {
                "xAxis": {
                  "name": "long",
                  "index": 1.0,
                  "aggr": "sum"
                },
                "yAxis": {
                  "name": "lat",
                  "index": 0.0,
                  "aggr": "sum"
                },
                "group": {
                  "name": "isFoggy",
                  "index": 3.0,
                  "aggr": "sum"
                }
              }
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {
          "eventType": "Unsafe tail distance"
        },
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TABLE",
            "data": "lat\tlong\teventType\tisFoggy\n-94.57\t35.37\tOverspeed\t1\n-89.52\t40.7\tLane Departure\t1\n-90.79\t38.83\tUnsafe following distance\t1\n-91.18\t38.22\tUnsafe following distance\t1\n-90.04\t35.19\tLane Departure\t1\n-89.17\t40.38\tUnsafe following distance\t1\n-94.23\t37.09\tLane Departure\t1\n-94.58\t37.03\tUnsafe following distance\t1\n-91.33\t38.87\tLane Departure\t1\n-90.79\t38.83\tOverspeed\t1\n-89.74\t39.1\tUnsafe tail distance\t1\n-89.52\t40.7\tUnsafe following distance\t1\n-89.91\t40.86\tOverspeed\t1\n-90.04\t35.19\tUnsafe following distance\t1\n-94.57\t35.37\tLane Departure\t1\n-90.37\t35.21\tLane Departure\t1\n-88.96\t42.25\tUnsafe tail distance\t1\n-94.23\t37.09\tUnsafe following distance\t1\n-90.82\t41.66\tOverspeed\t1\n-91.33\t38.87\tUnsafe following distance\t1\n-88.42\t41.11\tLane Departure\t1\n-90.64\t41.56\tUnsafe tail distance\t1\n-88.07\t41.48\tUnsafe tail distance\t1\n-92.99\t37.34\tOverspeed\t1\n-94.38\t38.99\tOverspeed\t1\n-89.03\t41.92\tOverspeed\t1\n-94.38\t38.67\tUnsafe tail distance\t1\n-91.94\t41.71\tUnsafe following distance\t1\n-94.57\t35.37\tUnsafe following distance\t1\n-90.04\t35.19\tUnsafe tail distance\t1\n-89.91\t40.86\tLane Departure\t1\n-89.63\t39.84\tOverspeed\t1\n-89.63\t39.84\tUnsafe tail distance\t1\n-91.78\t42.23\tUnsafe following distance\t1\n-92.31\t34.78\tUnsafe tail distance\t1\n-88.42\t41.11\tUnsafe following distance\t1\n-91.33\t38.87\tUnsafe tail distance\t1\n-91.94\t41.71\tOverspeed\t1\n-90.52\t39.71\tOverspeed\t1\n-90.64\t41.56\tLane Departure\t1\n-88.07\t41.48\tLane Departure\t1\n-87.67\t41.87\tOverspeed\t1\n-87.67\t41.87\tUnsafe tail distance\t1\n-94.57\t35.37\tUnsafe tail distance\t1\n-95.99\t36.17\tOverspeed\t1\n-88.02\t42.04\tLane Departure\t1\n-89.03\t41.92\tLane Departure\t1\n-88.96\t42.25\tUnsafe following distance\t1\n-92.4\t41.78\tLane Departure\t1\n-94.28\t39.53\tOverspeed\t1\n-95.5\t36.37\tLane Departure\t1\n-94.28\t39.53\tUnsafe tail distance\t1\n-94.88\t35.47\tOverspeed\t1\n-90.79\t38.83\tUnsafe tail distance\t1\n-89.03\t41.92\tUnsafe following distance\t1\n-89.91\t40.86\tUnsafe tail distance\t1\n-89.8\t35.94\tLane Departure\t1\n-90.34\t38.58\tOverspeed\t1\n-89.71\t37.47\tUnsafe tail distance\t1\n-90.64\t41.56\tOverspeed\t1\n-88.07\t41.48\tOverspeed\t1\n-91.59\t41.7\tLane Departure\t1\n-89.52\t40.7\tOverspeed\t1\n-94.38\t38.67\tOverspeed\t1\n-89.52\t40.7\tUnsafe tail distance\t1\n-90.04\t35.19\tOverspeed\t1\n-89.03\t41.92\tUnsafe tail distance\t1\n-94.88\t35.47\tLane Departure\t1\n-95.99\t36.17\tUnsafe following distance\t1\n-89.54\t36.84\tOverspeed\t1\n-92.31\t34.78\tOverspeed\t1\n-88.77\t40.76\tUnsafe tail distance\t1\n-91.18\t38.22\tLane Departure\t1\n-93.04\t41.71\tOverspeed\t1\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_-935892629",
      "id": "20150603-182617_1986095422",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "%md\n\n## Done with data analysis, let\u0027s build a regression model to predict violations",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.236",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/markdown",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "HTML",
            "data": "\u003ch2\u003eDone with data analysis, let\u0027s build a regression model to predict violations\u003c/h2\u003e\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_701756490",
      "id": "20150612-103159_813648130",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "import org.apache.spark.mllib.util.MLUtils;\nimport org.apache.spark.mllib.optimization;\nimport org.apache.spark.mllib.classification.LogisticRegressionWithSGD;\nimport org.apache.spark.mllib.optimization.SquaredL2Updater;\nimport org.apache.spark.mllib.evaluation.BinaryClassificationMetrics;\n\n    val examples \u003d MLUtils.loadLabeledData(sc,\"hdfs:///user/zeppelin/iotdemo/trainingData\").cache()\n\n    val splits \u003d examples.randomSplit(Array(0.8, 0.2))\n    val training \u003d splits(0).cache()\n    val test \u003d splits(1).cache()\n\n    val numTraining \u003d training.count()\n    val numTest \u003d test.count()\n    println(s\"Training: $numTraining, test: $numTest.\")\n    \n    val updater \u003d new SquaredL2Updater()\n    \n     val model \u003d {\n        val algorithm \u003d new LogisticRegressionWithSGD()\n        algorithm.optimizer.setNumIterations(200).setStepSize(1.0).setUpdater(updater).setRegParam(0.1)\n        algorithm.run(training).clearThreshold()\n     }   \n        \n    val rprediction \u003d model.predict(test.map(_.features))\n    val rpredictionAndLabel \u003d rprediction.zip(test.map(_.label))\n    val rmetrics \u003d new BinaryClassificationMetrics(rpredictionAndLabel)\n\n    println(\"\\n\");\n    println(\"Certification Weight \" + model.weights(0))\n    println(\"Wage Plan Weight \" + model.weights(1))\n    println(\"Fatigue by Hours Weight \" + model.weights(2))\n    println(\"Fatigue by Miles Weight \" + model.weights(3))\n    println(\"Foggy weather Weight \" + model.weights(4))\n    println(\"Rainy weather Weight \" + model.weights(5))\n    println(\"Windy weather Weight \" + model.weights(6))\n    println(\"\\n\")\n    println(\"Intercept \" + model.intercept)\n    println(s\"Test areaUnderPR \u003d ${rmetrics.areaUnderPR()}.\")\n    println(s\"Test areaUnderROC \u003d ${rmetrics.areaUnderROC()}.\")",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.236",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/scala",
        "editorHide": false,
        "results": [
          {
            "graph": {
              "mode": "table",
              "height": 300.0,
              "optionOpen": false,
              "keys": [],
              "values": [],
              "groups": [],
              "scatter": {}
            }
          }
        ],
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "results": {
        "code": "SUCCESS",
        "msg": [
          {
            "type": "TEXT",
            "data": "import org.apache.spark.mllib.util.MLUtils\nimport org.apache.spark.mllib.optimization\nimport org.apache.spark.mllib.classification.LogisticRegressionWithSGD\nimport org.apache.spark.mllib.optimization.SquaredL2Updater\nimport org.apache.spark.mllib.evaluation.BinaryClassificationMetrics\nwarning: there were 1 deprecation warning(s); re-run with -deprecation for details\nexamples: org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint] \u003d MapPartitionsRDD[123] at map at MLUtils.scala:214\nsplits: Array[org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint]] \u003d Array(PartitionwiseSampledRDD[124] at randomSplit at \u003cconsole\u003e:31, PartitionwiseSampledRDD[125] at randomSplit at \u003cconsole\u003e:31)\ntraining: org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint] \u003d PartitionwiseSampledRDD[124] at randomSplit at \u003cconsole\u003e:31\ntest: org.apache.spark.rdd.RDD[org.apache.spark.mllib.regression.LabeledPoint] \u003d PartitionwiseSampledRDD[125] at randomSplit at \u003cconsole\u003e:31\nnumTraining: Long \u003d 1090\nnumTest: Long \u003d 269\nTraining: 1090, test: 269.\nupdater: org.apache.spark.mllib.optimization.SquaredL2Updater \u003d org.apache.spark.mllib.optimization.SquaredL2Updater@733d9f5f\nmodel: org.apache.spark.mllib.classification.LogisticRegressionModel \u003d (weights\u003d[0.0,0.0,-1.0696997090115388,-0.5326624739600438,0.09417762325888844,0.07260443129982698,-0.40083013794384265], intercept\u003d0.0)\nrprediction: org.apache.spark.rdd.RDD[Double] \u003d MapPartitionsRDD[530] at mapPartitions at GeneralizedLinearAlgorithm.scala:63\nrpredictionAndLabel: org.apache.spark.rdd.RDD[(Double, Double)] \u003d ZippedPartitionsRDD2[532] at zip at \u003cconsole\u003e:42\nrmetrics: org.apache.spark.mllib.evaluation.BinaryClassificationMetrics \u003d org.apache.spark.mllib.evaluation.BinaryClassificationMetrics@16574ed6\n\n\nCertification Weight 0.0\nWage Plan Weight 0.0\nFatigue by Hours Weight -1.0696997090115388\nFatigue by Miles Weight -0.5326624739600438\nFoggy weather Weight 0.09417762325888844\nRainy weather Weight 0.07260443129982698\nWindy weather Weight -0.40083013794384265\n\n\nIntercept 0.0\nTest areaUnderPR \u003d 0.38286500959082215.\nTest areaUnderROC \u003d 0.6509373394966617.\n"
          }
        ]
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_-2131582978",
      "id": "20150603-085258_1341928479",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "text": "",
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.236",
      "config": {
        "tableHide": false,
        "colWidth": 12.0,
        "editorMode": "ace/mode/scala",
        "editorHide": false,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_-2122233445",
      "id": "20150604-204831_1742166011",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    },
    {
      "user": "anonymous",
      "dateUpdated": "2018-09-16 13:01:07.236",
      "config": {
        "colWidth": 12.0,
        "editorMode": "ace/mode/scala",
        "tableHide": false,
        "graph": {
          "mode": "table",
          "height": 300.0,
          "optionOpen": false,
          "keys": [],
          "values": [],
          "groups": [],
          "scatter": {}
        },
        "enabled": true
      },
      "settings": {
        "params": {},
        "forms": {}
      },
      "apps": [],
      "jobName": "paragraph_1537117267236_-1356506055",
      "id": "20150812-223911_1229239436",
      "dateCreated": "2018-09-16 13:01:07.236",
      "status": "READY",
      "errorMessage": "",
      "progressUpdateIntervalMs": 500
    }
  ],
  "name": "Demos / IoT / Trucking Data Analysis",
  "id": "2DRFB89Z3",
  "noteParams": {},
  "noteForms": {},
  "angularObjects": {
    "md:shared_process": [],
    "sh:shared_process": [],
    "spark:shared_process": []
  },
  "config": {
    "isZeppelinNotebookCronEnable": false
  },
  "info": {}
}